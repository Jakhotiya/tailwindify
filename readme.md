# Tailwindify

Library converts HTML CSS into tailwind based UI

## How to set this up ?
```bash
git@github.com:Jakhotiya/tailwindify.git
cd tailwindify;
npm install;
```

Once the codebase is ready, we need to generate a master tailwind css file.
This tailwind output css file is unpurged version.
tailwind.config.js in this repository shows how to avoid purging anything by using safelist.
This file is used to lookup utility class for a given css rule

create two files named input.css and output.css in project root

Roughly your input.css will have following contents
```css
@tailwind base;
@tailwind components;
@tailwind utilities
```
when you run following command output.css should be generated.
```bash
npx tailwindcss -i ./src/input.css -o ./dist/output.css
```
Once you have a tailwind file ready with filename `output.css`
run following to generate one time tailwinddb using following command

```bash
node generate-reverse-class-index.js
```

A big json file should be generated in data directory.

Once this is done. Go ahead and run tests

## How does this work?

1. Download HTML and CSS
2. Pass html to htmlparser and generate DOM
3. pass Source CSS the post css parser. This gives CSS tree to work with
   a. CSS that is in files needs to downloaded and added to cssom object
   b. CSS that is defined in the style tag of the document needs to be added further to the end
4. Traverse CSSOM generated by source css. Iterate over each rule.
5. Each rule contains selectors and declarations. Find nodes given by selectors
6. Find the tailwind classes that would replace the declarations for the selector from previous step
7. Add these tailwind classes to the node
8. We keep the existing classes intact in this pass. We will later on pass this from purging program where DOM will be optimized

## When will be manual configuration needed?
If your source css contains property values that are non-standard from tailwind perspective, we will need to 
tell our program how to handle this situation. Consider following source css

```css
.foo {
   margin:13px;
   color:red;
   font-size:17px;
   border : solid 1px green
}
```

Now if red and green colors are not mentioned in your tailwind config, we will have to provide a map/function
for tailwindify to be able to migrate such rules.